define(["core/ajax"],function(a){return{init:function(b){$("#aspire_block_contents").removeClass("hidden");var c=a.call([{methodname:"aspirelists_get_lists",args:{courseid:b}}]);c[0].done(function(a){$("#aspire_block_contents").html("").removeClass("text-center"),$.each(a,function(a,b){var c=$("#aspire_block_contents #aspire_"+b.campus);0==c.length&&(c=$("#aspire_block_contents").append('<div id="aspire_'+b.campus+'"></div>'),c=$("#aspire_block_contents #aspire_"+b.campus),c.append("<h3>"+b.campus+"</h3>"));var d="";if(b.items>0){var e=1==b.items?"item":"items";d+=" ("+b.items+" "+e+")"}b.lastupdated.length>0&&(d+=", last updated: "+b.lastupdated),c.append('<p><a href="'+b.url+'" target="_blank">'+b.name+"</a>"+d+"</p>")})}),c[0].fail(function(a){$("#aspire_block_contents").html(a.errorcode)})}}});